{
    "file": "/home/azmain/code_for_compilation_test/base-prompt/Class_20.java",
    "java_code": "import java.io.BufferedInputStream;\nimport java.io.BufferedOutputStream;\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.io.BufferedInputStream;\nimport java.io.BufferedOutputStream;\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.ArrayList;\n\nclass Class_20 {\n    public static void receive() {\n        try {\n            DataInputStream dis = new DataInputStream(new BufferedInputStream(null));\n            DataOutputStream dos = new DataOutputStream(new BufferedOutputStream(null, 0));\n\n            int number = dis.readInt();\n            ArrayList<File> files = new ArrayList<File>(number);\n            System.out.println(\"Number of Files to be received: \" + number);\n\n            for (int i = 0; i < number; i++) {\n                File file = new File(dis.readUTF());\n                files.add(file);\n            }\n\n            int n = 0;\n            byte[] buf = new byte[4092];\n\n            for (int i = 0; i < files.size(); i++) {\n                System.out.println(\"Receiving file: \" + files.get(i).getName());\n                FileOutputStream fos = new FileOutputStream(\"C:\\\\users\\\\tom5\\\\desktop\\\\salestools\\\\\" + files.get(i).getName());\n\n                while ((n = dis.read(buf)) != -1) {\n                    fos.write(buf, 0, n);\n                    fos.flush();\n                }\n                fos.close();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void send(ArrayList<File> files) {\n        try {\n            DataInputStream dis = new DataInputStream(new BufferedInputStream(null));\n            DataOutputStream dos = new DataOutputStream(new BufferedOutputStream(null));\n            System.out.println(files.size());\n\n            dos.writeInt(files.size());\n            dos.flush();\n\n            for (int i = 0; i < files.size(); i++) {\n                dos.writeUTF(files.get(i).getName());\n                dos.flush();\n            }\n\n            int n = 0;\n            byte[] buf = new byte[4092];\n\n            for (int i = 0; i < files.size(); i++) {\n                System.out.println(files.get(i).getName());\n                FileInputStream fis = new FileInputStream(files.get(i));\n\n                while ((n = fis.read(buf)) != -1) {\n                    dos.write(buf, 0, n);\n                    dos.flush();\n                }\n            }\n            dos.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}",
    "stdout": "",
    "stderr": "",
    "return_code": 0
}