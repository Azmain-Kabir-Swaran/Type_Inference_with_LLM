{
    "file": "/home/azmain/code_for_compilation_test/from-20-sample/hibernate_class_44.java",
    "java_code": "package hibernate;\nimport org.hibernate.SessionFactory;\nimport java.util.Set;\nimport org.hibernate.Session;\nimport org.apache.struts.actions.DispatchAction;\nimport org.apache.struts.action.ActionForward;\nimport javax.servlet.http.HttpSession;\nimport org.apache.struts.action.ActionMapping;\nimport java.util.Iterator;\nimport org.apache.struts.action.ActionForm;\nimport org.hibernate.Transaction;\nimport org.hibernate.Query;\nimport java.util.ArrayList;\nimport java.util.HashSet;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpServletRequest;\n//ID = 3853106\n\n\n\n\n\n\npublic class hibernate_class_44 extends DispatchAction {\n\n\n\tpublic ActionForward add(ActionMapping mapping, ActionForm form,\n\t\t\tHttpServletRequest request, HttpServletResponse response)\n\t\t\t\t\tthrows Exception {\n\n\t\tif (log.isDebugEnabled()) {\n\t\t\tlog.debug(\"Entering Master add method\");\n\t\t}\n\n\t\ttry {\n\n\t\t\t//   cargoForm cargoForm = (cargoForm) form;\n\t\t\t//System.out.println(\"ID\" + cargoForm.getId());\n\t\t\t//   cargo cargo = new cargo();\n\t\t\t//   System.out.println(\"in cargo Action\");\n\t\t\t//   // copy customerform to model\n\t\t\t//   cargoForm.reset(mapping, request);\n\t\t\t//   BeanUtils.copyProperties(cargo, cargoForm);\n\t\t\t//   cargoForm.reset(mapping, request);\n\t\t\t// cargoForm.setInputParam(\"new\");\n\t\t\t// updateFormBean(mapping, request, cargoForm);\n\n\t\t}\n\n\t\tcatch (Exception ex) {\n\t\t\tex.printStackTrace();\n\t\t\treturn mapping.findForward(\"failure\");\n\t\t}\n\n\t\treturn mapping.findForward(\"success1\");\n\t}\n\n\tpublic ActionForward save(ActionMapping mapping, ActionForm form,\n\t\t\tHttpServletRequest request, HttpServletResponse response)\n\t\t\t\t\tthrows Exception {\n\n\t\tSessionFactory sessionFactory=null;\n\t\tSession session =null;\n\t\tSystem.out.println(\"in cargo Action\");\n\t\ttry{\n\t\t\tsessionFactory = (SessionFactory) servlet\n\t\t\t\t\t.getServletContext().getAttribute(\"aa\");  \n\t\t\tsession = sessionFactory.openSession();\n\t\t\tTransaction tx = session.beginTransaction();\n\n\t\t\t//  cargoForm carForm = (cargoForm) form;\n\n\n\t\t\t//  cargo cargo = new cargo();\n\n\t\t\tSystem.out.println(\"in cargo Action\");\n\n\t\t\t//  BeanUtils.copyProperties();\n\t\t\t//  System.out.println(\"id\"+ carForm.getId()); \n\t\t\t//  System.out.println(\"item id\"+ carForm.getItemid()); \n\t\t\t//  Set itemset = carForm.getItemDtl();\n\n\t\t\t//    System.out.println(\"size\"+itemset.size()); \n\t\t\t////    Iterator iterator =itemset.iterator();   \n\t\t\t//    while(iterator.hasNext()) { \n\t\t\t////     Item it = (Item)iterator.next();\n\t\t\t//    System.out.println(\"name\"+it.getItemName()); //log.debug(\"HERE\");\n\t\t\t////   it.setCargo(cargo); } \n\n\t\t\t//  cargo.setItemList(itemset);\n\t\t\t//  System.out.println(\"size\"+ itemset.size()); \n\t\t\t//  session.saveOrUpdate(\"cargo\",cargo);\n\t\t\ttx.commit();\n\t\t}catch(Exception e){\n\t\t\te.printStackTrace();\n\t\t}\n\t\treturn mapping.findForward(\"success\");\n\n\t}\n\n\tpublic ActionForward search(ActionMapping mapping, ActionForm form,\n\t\t\tHttpServletRequest request, HttpServletResponse response)\n\t\t\t\t\tthrows Exception {\n\t\tSystem.out.println(\"in cargo search Action\");\n\t\tSessionFactory sessionFactory = (SessionFactory) servlet\n\t\t\t\t.getServletContext().getAttribute(\"aaa\");\n\t\tHttpSession session1 = request.getSession();\n\t\tSession session = sessionFactory.openSession();\n\t\tTransaction tx = session.beginTransaction();\n\t\t//  cargoForm cargoform = (cargoForm) form;\n\t\t// System.out.println(\"Name\"+cargoForm.getName());\n\t\t//  cargo cargo = new cargo();\n\t\tSystem.out.println(\"in cargo search Action\");\n\t\t// copy customerform to model\n\t\t//  BeanUtils.copyProperties(cargo, cargoform);\n\t\tString name = null;\n\t\tString status = null;\n\t\tString createby = null;\n\n\n\t\t//  System.out.println(\"Name...\" + name);\n\t\t//  System.out.println(\"status...\" + status);\n\t\t//  System.out.println(\"createby...\" + createby);\n\t\ttry {\n\t\t\t//   if ((name.equals(\"\")) && (createby.equals(\"\"))\n\t\t\t//     && (status.equals(\"\")))\n\t\t\tString SQL_QUERY = \"createby\";\n\t\t\tQuery query = session.createQuery(SQL_QUERY);\n\t\t\tquery.setParameter(\"name\", name);\n\t\t\tquery.setParameter(\"status\", status);\n\t\t\tquery.setParameter(\"createby\", createby);\n\t\t\tArrayList al = new ArrayList();\n\t\t\tfor (Iterator i = query.iterate(); i.hasNext();) {\n\t\t\t\t//    cargo cargo1 = (cargo) i.next();\n\t\t\t\t//    al.add(cargo1);\n\t\t\t\t//    System.out.println(\"Cargo ID is:\" + cargo1.getId());\n\t\t\t}\n\t\t\tSystem.out.println(\"Cargo list is:\" + al.size());\n\t\t\tsession1.setAttribute(\"clist\", al);\n\t\t} catch (Exception e) {\n\t\t\te.printStackTrace();\n\t\t\treturn mapping.findForward(\"failure\");\n\t\t}\n\t\tSystem.out.println(\"search Cargo list is success\");\n\n\t\treturn mapping.findForward(\"success\");\n\t}\n\n\n\n\n\tpublic ActionForward edit(ActionMapping mapping, ActionForm form,\n\t\t\tHttpServletRequest request, HttpServletResponse response)\n\t\t\t\t\tthrows Exception {\n\t\tSessionFactory sessionFactory=null;\n\t\tSession session =null;\n\t\tif (log.isDebugEnabled()) {\n\t\t\tlog.debug(\"Entering Master Edit method\");\n\t\t}\n\n\t\ttry {\n\t\t\tsessionFactory = (SessionFactory) servlet\n\t\t\t\t\t.getServletContext().getAttribute(\"aa\");\n\t\t\tsession = sessionFactory.openSession();\n\t\t\tTransaction transaction=session.beginTransaction();\n\t\t\t//   cargoForm carForm = (cargoForm) form;\n\t\t\t// System.out.println(carForm.getStatus());\n\t\t\t// System.out.println(carForm.getCreate());\n\t\t\t//   cargo cargo = new cargo();\n\t\t\t//   BeanUtils.copyProperties(cargo, carForm);\n\t\t\t//      System.out.println(\"In Cargo Edit \"+cargo.getId());\n\t\t\tString qstring = \"from cargo c where c.id=:id\";\n\t\t\tQuery query = session.createQuery(qstring);\n\t\t\t//   query.setParameter(\"id\", cargo.getId());\n\t\t\tArrayList all = new ArrayList();\n\t\t\t//   cargo c = (cargo) query.iterate().next();\n\n\t\t\tSystem.out.println(\"Edit Cargo list \" + all.size()); \n\n\n\t\t\tSet purchaseArray = new HashSet();\n\t\t\t//           System.out.println(\"Edit\"+c.getItemList().size());\n\t\t\t//           carForm.setItemDtl(purchaseArray);\n\t\t\t//           BeanUtils.copyProperties(carForm,c);\n\t\t\t// transaction.commit();\n\t\t\tsession.flush();\n\t\t} catch (Exception e) {\n\t\t\te.printStackTrace();\n\t\t\treturn mapping.findForward(\"failure\");\n\t\t}\n\n\t\t// return a forward to edit forward\n\t\tSystem.out.println(\"Edit Cargo list is success\");\n\t\treturn mapping.findForward(\"succ\");\n\t}\n\n\tpublic ActionForward delete(ActionMapping mapping, ActionForm form,\n\t\t\tHttpServletRequest request, HttpServletResponse response)\n\t\t\t\t\tthrows Exception {\n\n\t\ttry {\n\t\t\tSessionFactory sessionFactory = (SessionFactory) servlet\n\t\t\t\t\t.getServletContext().getAttribute(\"aaa\");\n\t\t\tSession session = sessionFactory.openSession();\n\t\t\tTransaction tx = session.beginTransaction();\n\t\t\t//   cargoForm carForm = (cargoForm) form;\n\t\t\t// System.out.println(carForm.getStatus());\n\t\t\t// System.out.println(carForm.getCreate());\n\t\t\t//   cargo cargo = new cargo();\n\t\t\t//   BeanUtils.copyProperties(cargo, carForm);\n\t\t\t//      System.out.println(\"In Cargo Delete \"+cargo.getId());\n\t\t\t//   //String qstring = \"delete from cargo c where c.id=:id\";\n\t\t\t//   //Query query = session.createQuery(qstring);\n\t\t\t//   session.delete(\"cargo\",cargo);\n\t\t\t// session.delete(cargo);\n\t\t\t// session.flush();\n\t\t\t//query.setParameter(\"id\", cargo.getId());\n\t\t\t//int row=query.executeUpdate();\n\t\t\t//System.out.println(\"deleted row\"+row);\n\t\t\ttx.commit();\n\n\t\t} catch (Exception e) {\n\t\t\te.printStackTrace();\n\t\t\treturn mapping.findForward(\"failure\");\n\t\t}\n\t\t// return a forward to edit forward\n\t\tSystem.out.println(\"Deleted success\");\n\t\treturn mapping.findForward(\"succes\");\n\t}\n\n}",
    "stdout": "",
    "stderr": "",
    "return_code": 0
}