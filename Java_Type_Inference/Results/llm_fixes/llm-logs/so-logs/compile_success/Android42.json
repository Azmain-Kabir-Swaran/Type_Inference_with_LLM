{
    "attempt": 2,
    "file": "/home/azmain/GitHub Codes/Type_Inference_with_LLM/Java_Type_Inference/Results/llm_fixes/fixed_codes/so-fix/Android42.java",
    "java_code": "package androidExamples;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.content.pm.ActivityInfo;\nimport android.graphics.PixelFormat;\nimport android.media.MediaPlayer;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.SurfaceHolder;\nimport android.view.View;\nimport android.view.WindowManager;\nimport android.webkit.URLUtil;\nimport android.widget.Button;\nimport android.widget.MediaController;\nimport android.widget.VideoView;\n\nimport java.io.IOException;\n\npublic class Android42 extends Activity implements MediaPlayer.OnErrorListener,\n        MediaPlayer.OnBufferingUpdateListener, MediaPlayer.OnCompletionListener,\n        MediaPlayer.OnPreparedListener, SurfaceHolder.Callback {\n\n    private static final String TAG = \"MediaPreview\";\n\n    private MediaPlayer mp;\n    private VideoView mPreview;\n    private SurfaceHolder holder;\n    private Button btnPlay;\n    private Button btnPause;\n    private Button btnReset;\n    private Button btnStop;\n\n    private String mPath;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.media_preview);\n\n        mPreview = (VideoView)findViewById(R.id.myVideo);\n        btnPlay = (Button)findViewById(R.id.btn_play);\n        btnPause = (Button)findViewById(R.id.btn_pause);\n        btnReset = (Button)findViewById(R.id.btn_reset);\n        btnStop = (Button)findViewById(R.id.btn_stop);\n\n        getPathFromParentDialog();\n\n        btnPlay.setOnClickListener(new View.OnClickListener(){\n\n            @Override\n            public void onClick(View v) {\n                playVideo();\n            }\n        });\n\n        btnPause.setOnClickListener(new View.OnClickListener(){\n\n            @Override\n            public void onClick(View v) {\n                if(mp != null && mp.isPlaying()){\n                    mp.pause();\n                }\n            }\n        });\n\n        btnReset.setOnClickListener(new View.OnClickListener(){\n\n            @Override\n            public void onClick(View v) {\n                if(mp != null){\n                    mp.seekTo(0);\n                }\n            }\n        });\n\n        btnStop.setOnClickListener(new View.OnClickListener(){\n\n            @Override\n            public void onClick(View v) {\n                if(mp != null){\n                    mp.stop();\n                    mp.release();\n                    mp = null;\n                }\n            }\n        });\n\n        getWindow().setFormat(PixelFormat.TRANSPARENT);\n        holder = mPreview.getHolder();\n        holder.addCallback(this);\n        holder.setSizeFromLayout();\n    }\n    \n    private void getPathFromParentDialog(){\n        // your code here\n    }\n\n    @Override\n    protected void onResume() {\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\n        getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\n        super.onResume();\n    }\n\n    @Override\n    public boolean onError(MediaPlayer mp, int what, int extra) {\n        if(mp != null){\n            mp.stop();\n            mp.release();\n            mp = null;\n        }\n        return false;\n    }\n\n    @Override\n    public void onBufferingUpdate(MediaPlayer mp, int percent) {\n\n    }\n\n    @Override\n    public void onCompletion(MediaPlayer mp) {\n\n    }\n\n    @Override\n    public void onPrepared(MediaPlayer mp) {\n        mp.start();\n    }\n\n    @Override\n    public void surfaceChanged(SurfaceHolder holder, int format, int width, int height){\n\n    }\n\n    @Override\n    public void surfaceCreated(SurfaceHolder holder){\n        playVideo();\n    }\n\n    @Override\n    public void surfaceDestroyed(SurfaceHolder holder){\n\n    }\n\n    private void playVideo(){\n        try{\n            mp = new MediaPlayer();\n            mp.setOnErrorListener(this);\n            mp.setOnBufferingUpdateListener(this);\n            mp.setOnCompletionListener(this);\n            mp.setOnPreparedListener(this);\n\n            mp.setDisplay(holder);\n\n            mp.reset();\n            mp.setDataSource(mPath);\n            mp.prepareAsync();\n        }\n        catch(IOException e){\n            // handle exception\n        }\n    }\n}",
    "stdout": "",
    "stderr": "No error (Ignored 'package R does not exist' errors)",
    "return_code": 1
}