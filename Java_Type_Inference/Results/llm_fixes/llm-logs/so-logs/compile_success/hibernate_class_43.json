{
    "attempt": 1,
    "file": "/home/azmain/GitHub Codes/Type_Inference_with_LLM/Java_Type_Inference/Results/llm_fixes/fixed_codes/so-fix/hibernate_class_43.java",
    "java_code": "import org.apache.log4j.Logger;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.cfg.Configuration;\nimport java.util.Properties;\n\npublic class hibernate_class_43 {\n    private static Logger log = Logger.getLogger(hibernate_class_43.class);\n    private static SessionFactory sessionFactory;\n    private static String confFile = \"hibernate-test.properties\";\n    private static final ThreadLocal<Session> threadSession = new ThreadLocal<Session>();\n\n    private hibernate_class_43() {\n\n    }\n\n    public static void buildSessionFactory(){\n        Configuration configuration = new Configuration();\n        synchronized(hibernate_class_43.class){\n            if(sessionFactory == null){\n                try {\n                    Properties properties = new Properties();\n                    properties.load(hibernate_class_43.class.getClassLoader().getResourceAsStream(confFile));\n                    configuration.setProperties(properties);\n                } catch (Exception e) {\n                    log.fatal(\"Cannot load the specified hibernate properties file: \" + confFile);\n                    throw new RuntimeException(\"Cannot load the specified hibernate properties file: \" + confFile, e);\n                }\n                sessionFactory = configuration.configure().buildSessionFactory();\n            }\n        }\n    }\n\n    public static SessionFactory getSessionFactory() {\n        if(sessionFactory == null){\n            buildSessionFactory();\n        }\n        return sessionFactory;\n    }\n\n    public static Session getCurrentSession(){\n        if(!getSessionFactory().getCurrentSession().isOpen())\n            return getSessionFactory().openSession();\n        return getSessionFactory().getCurrentSession();\n    }\n}",
    "stdout": "",
    "stderr": "",
    "return_code": 0
}