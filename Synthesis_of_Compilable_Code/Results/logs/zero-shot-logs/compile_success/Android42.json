{
    "file": "/home/azmain/GitHub Codes/Type_Inference_with_LLM/Java_Type_Inference/snippets_for_test/all-zero-shot/Android42.java",
    "java_code": "package androidExamples;\nimport android.media.MediaPlayer.OnPreparedListener;\nimport android.media.MediaPlayer.OnErrorListener;\nimport android.view.SurfaceView;\nimport android.media.MediaPlayer.OnBufferingUpdateListener;\nimport android.os.Bundle;\nimport java.io.InputStream;\nimport android.view.View;\nimport java.io.File;\nimport java.net.URLConnection;\nimport java.net.URL;\nimport java.io.IOException;\nimport android.webkit.URLUtil;\nimport android.util.Log;\nimport android.media.MediaPlayer;\nimport android.media.MediaPlayer.OnCompletionListener;\nimport java.io.FileOutputStream;\nimport android.view.SurfaceHolder;\nimport android.app.Activity;\nimport android.graphics.PixelFormat;\nimport android.widget.Button;\nimport android.content.pm.ActivityInfo;\nimport android.content.Intent;\n//ID = 1188346\npublic class Android42 extends Activity implements OnErrorListener, \n\nOnBufferingUpdateListener,\nOnCompletionListener, OnPreparedListener, SurfaceHolder.Callback{\n\nprivate static final String TAG = \"MediaPreview\";\n\nprivate MediaPlayer mp;\nprivate SurfaceView mPreview;\nprivate SurfaceHolder holder;\nprivate Button btnPlay;\nprivate Button btnPause;\nprivate Button btnReset;\nprivate Button btnStop;\n\nprivate String mPath;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.media_preview);\n\n    mPreview = (SurfaceView)findViewById(R.id.myImage);\n    btnPlay = (Button)findViewById(100);\n    btnPause = (Button)findViewById(101);\n    btnReset = (Button)findViewById(102);\n    btnStop = (Button)findViewById(103);\n\n    getPathFromParentDialog();\n\n    btnPlay.setOnClickListener(new View.OnClickListener(){\n\n        @Override\n        public void onClick(View v) {\n            playVideo();\n        }\n    });\n\n    btnPause.setOnClickListener(new View.OnClickListener(){\n\n        @Override\n        public void onClick(View v) {\n            // TODO Auto-generated method stub\n            if(mp != null){\n                mp.pause();\n            }\n        }\n    });\n\n    btnReset.setOnClickListener(new View.OnClickListener(){\n\n        @Override\n        public void onClick(View v) {\n            if(mp != null){\n                mp.seekTo(0);\n            }\n        }\n    });\n\n    btnStop.setOnClickListener(new View.OnClickListener(){\n\n        @Override\n        public void onClick(View v) {\n            if(mp != null){\n                mp.stop();\n                mp.release();\n            }\n        }\n    });\n\n    getWindow().setFormat(PixelFormat.TRANSPARENT);\n    holder = mPreview.getHolder();\n    holder.addCallback(this);\n    holder.setFixedSize(400, 300);\n}\n\n@Override\nprotected void onResume() {\n\n    setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\n    super.onResume();\n}\n\n@Override\npublic boolean onError(MediaPlayer mp, int what, int extra) {\n    if(mp != null){\n        mp.stop();\n        mp.release();\n    }\n    return false;\n}\n\n@Override\npublic void onBufferingUpdate(MediaPlayer mp, int percent) {\n    // TODO Auto-generated method stub\n\n}\n\n@Override\npublic void onCompletion(MediaPlayer mp) {\n    // TODO Auto-generated method stub\n\n}\n\n@Override\npublic void onPrepared(MediaPlayer mp) {\n    // TODO Auto-generated method stub\n\n}\n\n@Override\npublic void surfaceChanged(SurfaceHolder holder, int format, int width,\n        int height) {\n    // TODO Auto-generated method stub\n\n}\n\n@Override\npublic void surfaceCreated(SurfaceHolder holder) {\n    // TODO Auto-generated method stub\n\n}\n\n@Override\npublic void surfaceDestroyed(SurfaceHolder holder) {\n    // TODO Auto-generated method stub\n\n}\n\nprivate void playVideo() {\n    try{\n        mp = new MediaPlayer();\n        mp.setOnErrorListener(this);\n        mp.setOnBufferingUpdateListener(this);\n        mp.setOnCompletionListener(this);\n        mp.setOnPreparedListener(this);\n        mp.setAudioStreamType(2);\n\n        mp.setDisplay(mPreview.getHolder());\n        Runnable r = new Runnable(){\n            @Override\n            public void run() {\n                try{\n                    setDataSource(mPath);\n                }\n                catch(Exception ex){\n                    Log.e(TAG, ex.getMessage());\n                }\n                try {\n                    mp.prepare();\n                    Log.v(TAG, \"Duration: ===> \" + mp.getDuration());\n                } catch (IllegalStateException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                } catch (IOException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                    Log.e(TAG, e.getMessage());\n                }\n                mp.start();\n            }\n\n        };\n        new Thread(r).start();\n    }\n    catch(Exception ex){\n        String sDummy = ex.toString();\n        if(mp != null){\n            mp.stop();\n            mp.release();\n        }\n    }\n\n}\n\nprivate void setDataSource(String path) throws IOException {\n    if(!URLUtil.isNetworkUrl(mPath)){\n        mp.setDataSource(mPath);\n    }\n    else{\n        URL url = new URL(mPath);\n        URLConnection cn = url.openConnection();\n        cn.connect();\n        InputStream stream = cn.getInputStream();\n        if(stream == null){\n            throw new RuntimeException(\"stream is null\");\n        }\n        File fileTemp = File.createTempFile(\"mediaplayerTmp\", \"dat\");\n        String tempPath = fileTemp.getAbsolutePath();\n        FileOutputStream out = new FileOutputStream(fileTemp);\n        byte buf[] = new byte[128];\n        do{\n            int numRead = stream.read(buf);\n            if(numRead <= 0){\n                break;\n            }\n            out.write(buf, 0, numRead);\n        }while(true);\n        mp.setDataSource(tempPath);\n        try{\n            stream.close();\n        }\n        catch(Exception ex){\n            String sDummy = ex.toString();\n        }\n    }\n}\n\nprivate void getPathFromParentDialog()\n{\n    Intent intent = getIntent();\n    mPath = intent.getExtras().getString(\"Path\");\n}\n}",
    "stdout": "",
    "stderr": "No error (Ignored 'package R does not exist' errors)",
    "return_code": 1
}